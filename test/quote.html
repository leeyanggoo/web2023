<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width='device-width', initial-scale=1.0">
    <title>json 명언 가져오기</title>
    <link rel="stylesheet" href="css/font.css">
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        body {
            width: 100%;
            height: 100vh;
            align-items: center;
            justify-content: center;
            display: flex;
            
        }
        .opacity {
            animation: opacity 2s ease-in-out;
        }
        @keyframes opacity {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }
        #result {
            width: 50%;
        }
        .quote {
            color: #222;
            font-size: 2rem;
            margin: 1rem 0;
            font-weight: bold;
        }
        .author {
            color: #808080;
            font-size: 1.5rem;
            text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;
        }
    </style>
</head>
<body>
    <div id="result">
        <div class="quote"></div>
        <div class="author"></div>
    </div>

    <script src="css/bg.js"></script>
    <script>
        const quoteResult = document.querySelector("#result");
        const quote = document.querySelector(".quote");
        const quoteAuthor = document.querySelector(".author");

        let quoteAll = [];
        let quoteInterval = 10000;

        const quoteData = () => {
            fetch("json/dummy01.json")
            .then(res => res.json())
            .then(items => {
                quoteAll = items.quotes;
                let quoteIndex = Math.floor(Math.random()*(quoteAll.length))
                quote.innerHTML = quoteAll[quoteIndex].quote;
                quoteAuthor.innerHTML = `- <i>${quoteAll[quoteIndex].author}</i>`
                quote.classList.add("opacity");
                quoteAuthor.classList.add("opacity");

                //랜덤 배경색
                let randomColor1 = bgColor[Math.floor(Math.random()*(bgColor.length))];
                let randomColor2 = bgColor[Math.floor(Math.random()*(bgColor.length))];
                let gradientColor = `linear-gradient(to right, ${randomColor1}, ${randomColor2})`

                document.querySelector("body").style.background = gradientColor;

                //랜덤 폰트
                let randomFont = Math.floor(Math.floor(Math.random()*10)+1)
                quoteResult.classList.remove("font1", "font2", "font3", "font4", "font5", "font6", "font7", "font8", "font9", "font10");
                quoteResult.classList.add(`font${randomFont}`)
            })
        }
        quoteData();

        setInterval(() => {
            quoteData()
            quote.classList.remove("opacity");
            quoteAuthor.classList.remove("opacity");
        }, quoteInterval)
    </script>   
</body>
</html>